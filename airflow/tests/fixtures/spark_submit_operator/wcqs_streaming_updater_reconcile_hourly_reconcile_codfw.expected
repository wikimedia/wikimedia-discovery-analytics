[
    "spark-submit",
    "--master",
    "yarn",
    "--conf",
    "spark.dynamicAllocation.maxExecutors=25",
    "--conf",
    "spark.yarn.maxAppAttempts=1",
    "--executor-cores",
    "8",
    "--executor-memory",
    "16g",
    "--driver-memory",
    "4g",
    "--name",
    "airflow-spark",
    "--class",
    "org.wikidata.query.rdf.updater.reconcile.UpdaterReconcile",
    "--queue",
    "root.default",
    "/srv/deployment/wikimedia/discovery/analytics/artifacts/rdf-spark-tools-latest-jar-with-dependencies.jar",
    "--domain",
    "commons.wikimedia.org",
    "--reconciliation-source",
    "wcqs_sideoutputs_reconcile@codfw",
    "--event-gate",
    "https://eventgate-main.discovery.wmnet:4492/v1/events",
    "--late-events-partition",
    "event.rdf_streaming_updater_lapsed_action/datacenter=codfw/year=2022/month=2/day=15/hour=0",
    "--failures-partition",
    "event.rdf_streaming_updater_fetch_failure/datacenter=codfw/year=2022/month=2/day=15/hour=0",
    "--inconsistencies-partition",
    "event.rdf_streaming_updater_state_inconsistency/datacenter=codfw/year=2022/month=2/day=15/hour=0",
    "--stream",
    "rdf-streaming-updater.reconcile",
    "--entity-namespaces",
    "6",
    "--initial-to-namespace",
    "M=6",
    "--http-routes",
    "www.wikidata.org=https://api-ro.discovery.wmnet,commons.wikimedia.org=https://api-ro.discovery.wmnet"
]