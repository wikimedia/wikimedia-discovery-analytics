[
    "PYSPARK_PYTHON=python3.7",
    "spark-submit",
    "--master",
    "yarn",
    "--conf",
    "spark.dynamicAllocation.maxExecutors=10",
    "--conf",
    "spark.yarn.maxAppAttempts=1",
    "--conf",
    "spark.executorEnv.REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt",
    "--conf",
    "spark.yarn.appMasterEnv.REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt",
    "--files",
    "/srv/deployment/wikimedia/discovery/analytics/spark/resources/queries_index_settings.json",
    "--py-files",
    "/srv/deployment/wikimedia/discovery/analytics/spark/wmf_spark.py",
    "--jars",
    "/srv/deployment/wikimedia/discovery/analytics/artifacts/elasticsearch-hadoop-6.5.4.jar",
    "--name",
    "airflow-spark",
    "--queue",
    "root.default",
    "/srv/deployment/wikimedia/discovery/analytics/spark/export_queries_to_relforge.py",
    "--search-satisfaction-partition",
    "event.searchsatisfaction/year=2021/month=1/day=14/hour=0",
    "--cirrus-events-partition",
    "event.mediawiki_cirrussearch_request/year=2021/month=1/day=14/hour=0",
    "--elastic-host",
    "relforge1003.eqiad.wmnet,relforge1004.eqiad.wmnet",
    "--elastic-port",
    "9243",
    "--elastic-index",
    "joined_queries-{dt|yyyyMMdd}/_doc",
    "--elastic-template",
    "joined_queries"
]