[
    "spark-submit",
    "--master",
    "yarn",
    "--conf",
    "spark.dynamicAllocation.maxExecutors=64",
    "--conf",
    "spark.yarn.maxAppAttempts=1",
    "--executor-cores",
    "4",
    "--executor-memory",
    "8g",
    "--driver-memory",
    "8g",
    "--name",
    "[Search Airflow Job] Subgraph Query Metrics Daily: Extract Subgraph Query Metrics",
    "--class",
    "org.wikidata.query.rdf.spark.metrics.SubgraphMetricsLauncher",
    "--queue",
    "root.default",
    "/srv/deployment/wikimedia/discovery/analytics/artifacts/rdf-spark-tools-latest-jar-with-dependencies.jar",
    "query-metrics",
    "--event-query-table",
    "event.wdqs_external_sparql_query/year=2022/month=7/day=1/wiki=wikidata",
    "--processed-query-table",
    "discovery.processed_external_sparql_query/year=2022/month=7/day=1/wiki=wikidata",
    "--matched-Qitems-table",
    "discovery.subgraph_qitems_match/year=2022/month=7/day=1/wiki=wikidata",
    "--matched-predicates-table",
    "discovery.subgraph_predicates_match/year=2022/month=7/day=1/wiki=wikidata",
    "--matched-uris-table",
    "discovery.subgraph_uri_match/year=2022/month=7/day=1/wiki=wikidata",
    "--subgraph-query-table",
    "discovery.subgraph_queries/year=2022/month=7/day=1/wiki=wikidata",
    "--top-n",
    "100",
    "--general-query-metrics-table",
    "discovery.general_query_metrics/year=2022/month=7/day=1/wiki=wikidata",
    "--general-subgraph-query-metrics-table",
    "discovery.general_subgraph_query_metrics/year=2022/month=7/day=1/wiki=wikidata",
    "--per-subgraph-query-metrics-table",
    "discovery.per_subgraph_query_metrics/year=2022/month=7/day=1/wiki=wikidata"
]