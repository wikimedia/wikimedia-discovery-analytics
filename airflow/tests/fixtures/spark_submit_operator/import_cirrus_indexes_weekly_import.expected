[
    "PYSPARK_PYTHON=python3.7",
    "spark-submit",
    "--master",
    "yarn",
    "--conf",
    "spark.dynamicAllocation.maxExecutors=36",
    "--conf",
    "spark.executor.extraJavaOptions=-XX:MaxDirectMemorySize=1024M",
    "--conf",
    "spark.executor.memoryOverhead=4096M",
    "--conf",
    "spark.executorEnv.REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt",
    "--conf",
    "spark.yarn.maxAppAttempts=1",
    "--conf",
    "spark.yarn.appMasterEnv.REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt",
    "--py-files",
    "/srv/deployment/wikimedia/discovery/analytics/spark/wmf_spark.py",
    "--executor-cores",
    "1",
    "--executor-memory",
    "4g",
    "--name",
    "[Search Airflow Job] Import Cirrus Indexes Weekly: Import",
    "--queue",
    "root.default",
    "/srv/deployment/wikimedia/discovery/analytics/spark/import_cirrus_indexes.py",
    "--elasticsearch",
    "https://search.svc.codfw.wmnet:9243,https://search.svc.codfw.wmnet:9443,https://search.svc.codfw.wmnet:9643",
    "--output-partition",
    "discovery.cirrus_index/snapshot=2022-10-30"
]