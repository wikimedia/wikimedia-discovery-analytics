[
    "PYSPARK_PYTHON=python3.7",
    "spark-submit",
    "--master",
    "yarn",
    "--conf",
    "spark.dynamicAllocation.maxExecutors=50",
    "--conf",
    "spark.executorEnv.REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt",
    "--conf",
    "spark.sql.shuffle.partitions=20",
    "--conf",
    "spark.yarn.maxAppAttempts=1",
    "--conf",
    "spark.yarn.appMasterEnv.REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt",
    "--py-files",
    "/srv/deployment/wikimedia/discovery/analytics/spark/wmf_spark.py",
    "--name",
    "[Search Airflow Job] Search Satisfaction Daily: Aggregate",
    "--queue",
    "root.default",
    "/srv/deployment/wikimedia/discovery/analytics/spark/generate_daily_search_satisfaction.py",
    "--cirrus-partition",
    "event.mediawiki_cirrussearch_request/year=2021/month=1/day=26",
    "--satisfaction-partition",
    "event.SearchSatisfaction/year=2021/month=1/day=26",
    "--output-partition",
    "discovery.search_satisfaction_daily/year=2021/month=1/day=26"
]